<template>
  <div id="map" class="map"></div>

  <Ships v-if="!!ready" :map="map"></Ships>
  <ShipsList v-if="!!ready" :map="map"></ShipsList>
  <ShipsDetails v-if="!!ready"></ShipsDetails>

  <Layers v-if="!!ready" :map="map"></Layers>
  <LayersList v-if="!!ready" :map="map"></LayersList>

  <Feature></Feature>
</template>
<script>
  const { status } = useAuth();

  // Import the necessary libraries
  import maplibregl from "maplibre-gl";
  import BasemapsControl from "maplibre-gl-basemaps";

  import configs from "~/helpers/configs";
  import Toolbox from "~/helpers/toolbox";

  // Default map parameters
  const DEFAULT_MAP_CENTER = [0, 0];
  const DEFAULT_MAP_BEARING = 0;
  const DEFAULT_MAP_ZOOM = 1;
  const DEFAULT_MAP_PITCH = 0;

  // Initial view state for the map
  const INITIAL_VIEW_STATE = {
    latitude: DEFAULT_MAP_CENTER[1],
    longitude: DEFAULT_MAP_CENTER[0],
    zoom: DEFAULT_MAP_ZOOM,
    bearing: DEFAULT_MAP_BEARING,
    pitch: DEFAULT_MAP_PITCH,
    transitionDuration: "auto",
  };

  // Export the component
  export default {
    data() {
      return {
        ready: false,
        map: null,
        deck: null,
        mapDraw: null,
        currentViewState: { ...INITIAL_VIEW_STATE },
        basemaps: configs.getBaseMaps(),
      };
    },

    computed: {
      // Check if the user is authenticated
      isAuthenticated() {
        return status.value === "authenticated";
      },
    },

    // When the component is mounted, create the map
    async mounted() {
      // Create a Mapbox GL map
      this.map = new maplibregl.Map({
        container: "map",
        style: {
          version: 8,
          sources: {},
          layers: [],
          glyphs: "https://fonts.openmaptiles.org/{fontstack}/{range}.pbf",
        },
        antialias: true,
        center: [this.currentViewState.longitude, this.currentViewState.latitude],
        zoom: this.currentViewState.zoom,
        bearing: this.currentViewState.bearing,
        pitch: this.currentViewState.pitch,
        maxPitch: 0,
        preserveDrawingBuffer: true,
      });

      // Add geolocate control to the map.
      this.map.addControl(
        new maplibregl.GeolocateControl({
          positionOptions: {
            enableHighAccuracy: true,
          },
          trackUserLocation: true,
        })
      );

      // Add the navigation control to the map
      this.map.addControl(new maplibregl.NavigationControl(), "top-right");

      // Add the basemap control to the map
      this.baseMapControl = new BasemapsControl({
        basemaps: this.basemaps,
        initialBasemap: "google_road",
        expandDirection: "bottom",
      });

      this.map.addControl(this.baseMapControl, "top-right");

      // Wait for the map to load
      while (!this.map.loaded()) {
        await new Promise((resolve) => setTimeout(resolve, 100));
      }

      // Add the measures control to the map
      this.map.addControl(new Toolbox(), "top-right");

      // if window resize, resize the map
      window.addEventListener("resize", () => {
        this.map.resize();
      });

      // set the ready flag to true
      this.ready = true;
    },
  };
</script>
<style>
  .map {
    height: calc(100vh - 64px - 24px - 48px);
    width: 100%;
  }

  .maplibregl-ctrl-basemaps .basemap {
    width: 29px !important;
    height: 29px !important;
    margin: 0px !important;
    margin-left: 4px !important;
    border-radius: 5px !important;
    border: 1px solid white !important;
    box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.1);
    padding: 1px;
    background: white;
  }

  .maplibregl-ctrl-basemaps .basemap.active {
    border: 1px solid white !important;
    box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.1);
  }

  .measures_control {
    background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAdgAAAHYBTnsmCAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAELSURBVDiNpdO/LkRBFMfxD0rvoJSw0dBsI4QX2Cg8AApRKkh2EaUHUKhQeAYdQRQbOo2ObBQKCdH6k1XcM9xce7e5v2Qy954z39+czJwhUx0dtPTXEE5wjuEUnMIrujH2SuBBTOAx1l0mkw6+sYKbSO72gI9j7XTO5AyaWMJRroq8SYJTPG+yn3ZoRPIOF/H9gVoBTuMBYxjIl7mKObwEvFACd3EYlf3TRhU4abwKXDywIlyrAi/iE9tV4BTbKRps9YEn8YVnXOdyv5WMYgbtHnA6sBZmcR+525hbsIk3WQ+0e8BJ65E7wJq/rnQVP2+Yl7V22VU1sCx7O++yV+wJp+E6UgLm1Yyd6/ADpJd+mQp1ObkAAAAASUVORK5CYII=");
    background-repeat: no-repeat;
    background-position: center;
  }

  .draw_control {
    background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAyAAAAMgBFP3XOwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAD8SURBVDiNpdO/LkRBFMfxz8QmNprdVks8gY5tNAqi1PEAeoXOsmQTkSA2HkOl8AaIf1EoxAtIVDrdUbgre9e9rDXJSSaT8/0m5zczIsIghYQjnKL6df4H+ASR1XlXMgyckwwLd2vhP3C7dIQB4N3SEAeAd3L9BYLWD3DrW3+B4BEHBfB24bh9cA032X6/B94qC7siv6YxmVJaxSvecBgRTSWrX1DHM2Zxh7mIuC+DIUWElFIDbSxHxAuklMYxjxm8Z8LLiHjql9TxgIls9grWcYsNNLCINVyhg7Ge3CzhGFWs4BpNjJY8sk10crfgM/EL7GHql/8xgjPUIsIHHE2U3O0YbCoAAAAASUVORK5CYII=");
    background-repeat: no-repeat;
    background-position: center;
  }

  .length_control {
    background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAwXpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjabVDbDcMgDPz3FB0BPyBmHNJQqRt0/JrYiULTkzg/Dh3G0D/vFzwGCAUkL1pqKckgVSo1SzQ52s6YZGcvDg3nPpwCWYstspda4v7Rx9PAQ7MsX4z0GcI6C1XCX3+MyAOPiUa+hVENIyYXMAyafyuVqsv1C2tPM9QPDBKdx77Vi21vy/YOE3VGTsbM4gPwOALcLBFj4mwXkdVyCaYws4X829MB+ALu/VkkhxO0uAAAAYVpQ0NQSUNDIHByb2ZpbGUAAHicfZE9SMNAGIbfphVFqiJ2UHHIUJ3soiKOpYpFsFDaCq06mFz6B00akhQXR8G14ODPYtXBxVlXB1dBEPwBcXZwUnSREr9LCi1ivOO4h/e+9+XuO0BoVJhqBqKAqllGKh4Ts7lVsfsVAYxgkGa/xEw9kV7MwHN83cPH97sIz/Ku+3P0KXmTAT6ROMp0wyLeIJ7dtHTO+8QhVpIU4nPiSYMuSPzIddnlN85FhwWeGTIyqXniELFY7GC5g1nJUIlniMOKqlG+kHVZ4bzFWa3UWOue/IXBvLaS5jqtMcSxhASSECGjhjIqsBChXSPFRIrOYx7+UcefJJdMrjIYORZQhQrJ8YP/we/emoXpKTcpGAO6Xmz7Yxzo3gWaddv+Prbt5gngfwautLa/2gDmPkmvt7XwETCwDVxctzV5D7jcAYafdMmQHMlPSygUgPcz+qYcMHQL9K65fWud4/QByFCvlm+Ag0NgokjZ6x7v7uns2781rf79AH5xcquu0awWAAANdmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNC40LjAtRXhpdjIiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIgogICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgeG1sbnM6R0lNUD0iaHR0cDovL3d3dy5naW1wLm9yZy94bXAvIgogICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgIHhtcE1NOkRvY3VtZW50SUQ9ImdpbXA6ZG9jaWQ6Z2ltcDpkNzI0ZDc2Mi02ZDFmLTRjOGEtYmJhNS0zMDAwMTI5Y2UzNzMiCiAgIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ZjA0ZjJkNjktMTI0NS00NWNjLWExNTYtMWM1MmVhM2QwM2ExIgogICB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NjA3OTE0ZDUtYmQxZS00M2JiLTkxOWUtNzI1N2Q0NzZlNjRmIgogICBkYzpGb3JtYXQ9ImltYWdlL3BuZyIKICAgR0lNUDpBUEk9IjIuMCIKICAgR0lNUDpQbGF0Zm9ybT0iV2luZG93cyIKICAgR0lNUDpUaW1lU3RhbXA9IjE3MTQwNjczMjIyMjg1NzAiCiAgIEdJTVA6VmVyc2lvbj0iMi4xMC4zNCIKICAgdGlmZjpPcmllbnRhdGlvbj0iMSIKICAgeG1wOkNyZWF0b3JUb29sPSJHSU1QIDIuMTAiCiAgIHhtcDpNZXRhZGF0YURhdGU9IjIwMjQ6MDQ6MjVUMTg6NDg6NDIrMDE6MDAiCiAgIHhtcDpNb2RpZnlEYXRlPSIyMDI0OjA0OjI1VDE4OjQ4OjQyKzAxOjAwIj4KICAgPHhtcE1NOkhpc3Rvcnk+CiAgICA8cmRmOlNlcT4KICAgICA8cmRmOmxpCiAgICAgIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiCiAgICAgIHN0RXZ0OmNoYW5nZWQ9Ii8iCiAgICAgIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MjI5MGYxOTUtNDU5NC00M2JlLTlmMDItNjBlZTRjM2Q2NDRiIgogICAgICBzdEV2dDpzb2Z0d2FyZUFnZW50PSJHaW1wIDIuMTAgKFdpbmRvd3MpIgogICAgICBzdEV2dDp3aGVuPSIyMDI0LTA0LTI1VDE4OjQ4OjQyIi8+CiAgICA8L3JkZjpTZXE+CiAgIDwveG1wTU06SGlzdG9yeT4KICA8L3JkZjpEZXNjcmlwdGlvbj4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PvSdeXYAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfoBBkRMCr3S7v4AAABoUlEQVRIx+3WP0hVcRQH8I+8anhYImgQQkIJbwhfJIa7S4trEJRQBq5vaRJqEYSoIYIInIRsClQwSHKTaCjcXN5gW5DDowJfRCW1HOHH9f25vhw9cOH+7j2/7znne873x49jowfz+IWZowQu4DZq+BvPDi7/L3AXrqEaoHt4jeVYv8DJTsEHA2wvwKoRrAslfMYuxjvh+SnqAVwLegoZv5kI/g5nOuH5TzS0p4l/HzYjyN12PI+E8z7Pb3CpTZVncSMmqorzeXjeTnhulkwhMl7GaazE3kepYxH3E57rsS62yPoEFlAJzt9iNqn8U8rzlxw8D0TZ3XiGYVzFB1zBy0QTNUzCevJxE+UWGU9iNaqqYBG9WEow6phLE/wYPx43GLt0ms4F8GoE6o+EdjOCG8xubtX1/QaWIpESxrCFjSaCO2BFrCVdT52u4xVO4UG8P8whuAM2hm/JYXUHU8lk3MQ0fuQUXMNZfh6bVzCK97iAW/id4Xmok4PsYsztT0zgCb4fQnC5rBKAXzM832sjuNzWl6jw0DzntZFQafn4NgD/ABYOg7KCrnh9AAAAAElFTkSuQmCC");
    background-repeat: no-repeat;
    background-position: center;
  }

  .area_control {
    background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAwnpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjabVBbDsMgDPvnFDsCiQMNx6FbJ+0GO/5Ck1ZlmyWch5EJSdv79Uy3ASZJUhatrdZskCaNuyWaHX1nyrKzF4dGcz+dAlsLFuGl1rh/9Ok08NAtKxcjvYewzkKT8NcvI/aAMdHIH2HUwgjsAoVB92/l2nS5fmHd8gz1kwaJzmP/1Itt71HsHTBvIGRjQHwAjCMJ3RIxZhS7SGh7B8YEDTNbyL89HUgf7f1ZH86Wj1IAAAGFaUNDUElDQyBwcm9maWxlAAB4nH2RPUjDQBiG36YVRaoidlBxyFCd7KIijqWKRbBQ2gqtOphc+gdNGpIUF0fBteDgz2LVwcVZVwdXQRD8AXF2cFJ0kRK/SwotYrzjuIf3vvfl7jtAaFSYagaigKpZRioeE7O5VbH7FQGMYJBmv8RMPZFezMBzfN3Dx/e7CM/yrvtz9Cl5kwE+kTjKdMMi3iCe3bR0zvvEIVaSFOJz4kmDLkj8yHXZ5TfORYcFnhkyMql54hCxWOxguYNZyVCJZ4jDiqpRvpB1WeG8xVmt1FjrnvyFwby2kuY6rTHEsYQEkhAho4YyKrAQoV0jxUSKzmMe/lHHnySXTK4yGDkWUIUKyfGD/8Hv3pqF6Sk3KRgDul5s+2Mc6N4FmnXb/j627eYJ4H8GrrS2v9oA5j5Jr7e18BEwsA1cXLc1eQ+43AGGn3TJkBzJT0soFID3M/qmHDB0C/SuuX1rneP0AchQr5ZvgINDYKJI2ese7+7p7Nu/Na3+/QB+cXKrrtGsFgAADXZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+Cjx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDQuNC4wLUV4aXYyIj4KIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgIHhtbG5zOkdJTVA9Imh0dHA6Ly93d3cuZ2ltcC5vcmcveG1wLyIKICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIgogICB4bXBNTTpEb2N1bWVudElEPSJnaW1wOmRvY2lkOmdpbXA6M2MwNjYxM2EtMTg5OC00ZTMyLWEwYjMtNGZmOWJjNmQwOWU0IgogICB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjQ3ZTAzMTk0LWFiYWMtNDYyMy1iZmZiLTBiMWZkMjhjYTA3ZCIKICAgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjZhYjc0YzQzLTViZTMtNDNhNy05MDY4LTI3N2NiZmUzNDZlZiIKICAgZGM6Rm9ybWF0PSJpbWFnZS9wbmciCiAgIEdJTVA6QVBJPSIyLjAiCiAgIEdJTVA6UGxhdGZvcm09IldpbmRvd3MiCiAgIEdJTVA6VGltZVN0YW1wPSIxNzE0MDY4MTk4MzMyMzc1IgogICBHSU1QOlZlcnNpb249IjIuMTAuMzQiCiAgIHRpZmY6T3JpZW50YXRpb249IjEiCiAgIHhtcDpDcmVhdG9yVG9vbD0iR0lNUCAyLjEwIgogICB4bXA6TWV0YWRhdGFEYXRlPSIyMDI0OjA0OjI1VDE5OjAzOjE4KzAxOjAwIgogICB4bXA6TW9kaWZ5RGF0ZT0iMjAyNDowNDoyNVQxOTowMzoxOCswMTowMCI+CiAgIDx4bXBNTTpIaXN0b3J5PgogICAgPHJkZjpTZXE+CiAgICAgPHJkZjpsaQogICAgICBzdEV2dDphY3Rpb249InNhdmVkIgogICAgICBzdEV2dDpjaGFuZ2VkPSIvIgogICAgICBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjgxZWYxZTBiLTQ4ZDMtNDA2MS05NmRlLTIyYzRhYjc5ZjA3OCIKICAgICAgc3RFdnQ6c29mdHdhcmVBZ2VudD0iR2ltcCAyLjEwIChXaW5kb3dzKSIKICAgICAgc3RFdnQ6d2hlbj0iMjAyNC0wNC0yNVQxOTowMzoxOCIvPgogICAgPC9yZGY6U2VxPgogICA8L3htcE1NOkhpc3Rvcnk+CiAgPC9yZGY6RGVzY3JpcHRpb24+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz7gOsubAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH6AQZEgMSKWTYDwAAAgdJREFUSMfV1U9oz2EcB/DX/Jn8G5Y/ibGWg1JMZLIcnNCSw1yWtMjJQe3IwUGpKS5KUXJRysGfi3+xA7FopTgQmz8x/y3Eag3N5f2rtbb9puawTz31fZ7v83w+n+f9eb8/D2Pdxg/zbzkOYgu+onM0AzegB90ZPVkbFZuJNrTmezqu4wnmDrK/DAswazBn4wZZmxpHN/ENP3AXS/EUF1CPcjThfeD7gtMoLXaDKWjBC9RiFdrRN8S4iGocwy80jgSmbdlccPIRazEfe3A7dfmGmpwpxwOcKeZ8Is7H8SnUpQ4DbWuC7Mh8dWBqLhZgPX6iA5VFyHALv/EuwdpRNdLsD4wAyhk4nCL34eRIs3+DJf9A7ZrUYygqq8QhPEsmzShJhiUD9taiYhAt3EEvNg90Xh+1FhjTm8KV4Uqy24zjmIZr2JA20z94c84fHSi0JjzC7Ix72IvFCdIZnndFI5Oy1ogTCbov8HQneHn/ABW4EQddUfBKnMM8bMotPmU+Ad8D66vAWIeHeIkVSbKhcMOW0GtZsm4bRrV9oePVODuC7YGtOeL8gM/4g/2wLgIpOOjGzqzvCvXacqivyDibXlSKS3gwIV1zKTZm0y28DYStaWD93485EVM11qRXLYzwOkISeB6oR8Um4zJeB7LdQeX8aD5SVXjcD677WFTyH57gOfkuFHqM219VsZqTX3e5EQAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: center;
  }

  .clear_control {
    background: url('data:image/svg+xml;utf8,%3Csvg xmlns="http://www.w3.org/2000/svg" width="20" height="20">%3Cpath d="M10,3.4 c-0.8,0-1.5,0.5-1.8,1.2H5l-1,1v1h12v-1l-1-1h-3.2C11.5,3.9,10.8,3.4,10,3.4z M5,8v7c0,1,1,2,2,2h6c1,0,2-1,2-2V8h-2v5.5h-1.5V8h-3 v5.5H7V8H5z"/>%3C/svg>');
    background-repeat: no-repeat;
    background-position: center;
  }

  .export_control {
    background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAdgAAAHYBTnsmCAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAADeSURBVDiNndMxTgJBFAbgbxcqCysLEkugs/AIW9B5AzCx4x5cwANAzRHsJHgECypN6Oi0Fxsslo2zA6MsfzLJvD/v/TPvnzeZOi7xgAvHscEcu4poRwmP6GCVEBjti+cpgS4meEkIfKEfErHAf/iMiQw5hrjGGM9YnyBW+eFe2dc5a5Sj17CNAoP9vp83LIYWvqugqYmwCINzblBDG9uIe5IepBvcBfGW0sR3v84WfxxYBHlvysGrYXmCwDIkYg92SpdTaAk+EoevsMBUehK7mIVEdiTpFlcJgQ+8hsQPTFgym1kaFDIAAAAASUVORK5CYII=");
    background-repeat: no-repeat;
    background-position: center;
    fill: red;
  }

</style>
